/* Modern, clean styling for Colors tab
   - All comments in English per request
   - Focus rings, subtle shadows, and smooth animations
*/

:root {
  --cde-bg: #ffffff;
  --cde-card: #ffffff;
  --cde-border: #E6E8EC;
  --cde-muted: #6B7280;
  --cde-text: #111827;
  --cde-primary: #1C7DFA;
  --cde-ring: rgba(28, 125, 250, .25);
  --cde-shadow: 0 10px 30px rgba(2, 8, 20, .08);
  --cde-shadow-strong: 0 18px 40px rgba(2, 8, 20, .14);
  --cde-radius-sm: 8px;
  --cde-radius-md: 10px;
  --cde-radius-lg: 12px;
}

/* -------- Page / sections -------- */
.cde-colors {
  display: block;
  padding: 14px 10px 28px;
  font-size: 14px;
  color: var(--cde-text);
  background: var(--cde-bg);
}

.cde-colors .colors-section {
  background: var(--cde-card);
  border: 1px solid var(--cde-border);
  border-radius: var(--cde-radius-lg);
  padding: 14px;
  margin-bottom: 18px;
  box-shadow: 0 1px 2px rgba(10, 18, 50, 0.03);
}

.cde-colors .colors-create-group.disabled { opacity: 0.75; }

.cde-colors h4 {
  margin: 0 0 10px 0;
  font-size: 15px;
  font-weight: 700;
}

.cde-colors .form-inline {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

/* -------- Inputs / buttons -------- */
.cde-colors .input {
  height: 36px;
  border: 1px solid #D5D8DD;
  border-radius: var(--cde-radius-md);
  padding: 0 12px;
  outline: none;
  min-width: 180px;
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
  background: #fff;
}
.cde-colors .input:hover { background: #fbfbfc; }
.cde-colors .input:focus {
  border-color: var(--cde-primary);
  box-shadow: 0 0 0 3px var(--cde-ring);
}

.cde-colors .btn {
  height: 36px;
  padding: 0 14px;
  border: 1px solid var(--cde-primary);
  background: var(--cde-primary);
  color: #fff;
  border-radius: var(--cde-radius-md);
  cursor: pointer;
  transition: transform .05s ease, filter .15s ease, box-shadow .15s ease;
  box-shadow: 0 1px 1px rgba(0,0,0,.04);
}
.cde-colors .btn:hover { filter: brightness(0.97); box-shadow: 0 4px 12px rgba(28,125,250,.18); }
.cde-colors .btn:active { transform: translateY(1px); filter: brightness(0.95); }

.cde-colors .hint { margin-top: 6px; color: var(--cde-muted); font-size: 12px; }

.groups-list .empty { padding: 12px; color: var(--cde-muted); }

/* -------- Group card -------- */
.group-box {
  border: 1px dashed #E2E5EA;
  border-radius: var(--cde-radius-lg);
  margin-bottom: 12px;
  background: #fff;
}

.group-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #F8FAFC;
  border-bottom: 1px solid #EEF1F5;
  padding: 10px 12px;
}

.group-name { font-weight: 700; letter-spacing: .2px; }

.group-actions { display: flex; gap: 8px; align-items: center; }

.icon-btn {
  height: 30px; min-width: 30px;
  padding: 0 10px;
  border-radius: var(--cde-radius-sm);
  border: 1px solid #D5D8DD;
  background: #fff;
  cursor: pointer;
  transition: background .15s ease, box-shadow .15s ease, transform .05s ease;
}
.icon-btn:hover { background: #F3F4F6; box-shadow: 0 2px 8px rgba(2,8,20,.08); }
.icon-btn:active { transform: translateY(1px); }

.group-body { padding: 12px 12px 14px; overflow-x: auto; }

/* -------- Table -------- */
.colors-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  table-layout: auto;
}
.colors-table th, .colors-table td {
  border-bottom: 1px solid #EEF1F5;
  padding: 10px;
  vertical-align: middle;
  white-space: nowrap;
}

/* Column widths: label is flexible; HEX/Preview/Actions are compact */
.colors-table thead th:nth-child(1) { width: 44px; }
.colors-table thead th:nth-child(3) { width: 180px; } /* HEX */
.colors-table thead th:nth-child(4) { width: 72px; }  /* Preview */
.colors-table thead th:nth-child(5) { width: 96px; }  /* Actions (if present) */

.colors-table thead th {
  background: #FBFDFF;
  font-weight: 700;
  color: #374151;
  position: sticky;
  top: 0;
  z-index: 1;
}

/* Inputs inside table */
.colors-table .input-label {
  width: 100%;            /* label fills the cell */
  min-width: 260px;       /* longer than HEX input */
}
.colors-table .input-hex {
  width: 130px;           /* compact HEX input */
}

/* Readonly HEX pretty */
.colors-table td code {
  display: inline-block;
  padding: 2px 6px;
  background: #F3F4F6;
  border-radius: var(--cde-radius-sm);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

/* Preview chip */
.hex-preview {
  display: inline-block;
  width: 42px;
  height: 26px;
  border-radius: 8px;
  border: 1px solid #D1D5DB;
  vertical-align: middle;
  transition: box-shadow .15s ease, transform .05s ease;
  cursor: pointer;
}
.hex-preview:focus,
.hex-preview:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--cde-ring);
}
.hex-preview:hover { box-shadow: 0 2px 10px rgba(2,8,20,.12); }

/* -------- Color picker popover -------- */
.cde-popover {
  position: fixed;
  z-index: 99999;
  background: #FFFFFF;
  border: 1px solid var(--cde-border);
  border-radius: 12px;
  box-shadow: var(--cde-shadow-strong);
  padding: 12px;
  width: 320px;                 /* base width */
  max-width: calc(100vw - 24px);
  max-height: calc(100vh - 24px);
  overflow: auto;
  animation: cde-pop-in .12s ease-out;
  will-change: transform, opacity;
}
.cde-popover::after {
  content: "";
  position: absolute;
  top: -8px; left: 16px;
  width: 14px; height: 14px;
  background: #fff;
  border-left: 1px solid var(--cde-border);
  border-top: 1px solid var(--cde-border);
  transform: rotate(45deg);
  box-shadow: -2px -2px 4px rgba(2,8,20,.02);
}
.cde-popover.is-above::after {
  top: auto; bottom: -8px;
  border-left: none; border-top: none;
  border-right: 1px solid var(--cde-border);
  border-bottom: 1px solid var(--cde-border);
}

/* Layout inside the popover */
.cde-popover .picker-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.cde-popover .picker-row:last-child { margin-bottom: 0; }

.cde-popover .picker-row label {
  font-size: 12px;
  color: #374151;
  width: 18px;            /* compact label (R/G/B) */
  text-align: center;
}

.cde-popover input[type="color"] {
  width: 100%;
  height: 38px;
  padding: 0;
  border: 1px solid #D1D5DB;
  border-radius: var(--cde-radius-md);
  background: #fff;
}

/* Specific sizing: prevent horizontal scroll */
.cde-popover .hex-field {
  flex: 0 0 130px;        /* HEX ~130px */
}
.cde-popover .rgb-field {
  flex: 0 0 64px;         /* each R/G/B ~64px */
}

.cde-popover input[type="text"],
.cde-popover input[type="number"] {
  height: 34px;
  border: 1px solid #D1D5DB;
  border-radius: var(--cde-radius-md);
  padding: 0 10px;
  outline: none;
  background: #fff;
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
  width: 0px;
}
.cde-popover input[type="text"]:focus,
.cde-popover input[type="number"]:focus {
  border-color: var(--cde-primary);
  box-shadow: 0 0 0 3px var(--cde-ring);
}

.cde-popover .picker-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
}

.cde-popover .btn {
  height: 32px;
  padding: 0 12px;
  border-radius: 8px;
  cursor: pointer;
  border: 1px solid #D5D8DB;
  background: #F3F4F6;        /* more visible than white */
  color: #111827;
  transition: background .15s ease, transform .05s ease, box-shadow .15s ease;
}
.cde-popover .btn:hover { background: #E7EAF0; box-shadow: 0 2px 8px rgba(2,8,20,.08); }
.cde-popover .btn:active { transform: translateY(1px); }

.cde-popover .btn.primary {
  background: var(--cde-primary);
  border-color: var(--cde-primary);
  color: #fff;
}
.cde-popover .btn.primary:hover { filter: brightness(.98); box-shadow: 0 4px 12px rgba(28,125,250,.18); }

/* Pop animation */
@keyframes cde-pop-in {
  from { opacity: 0; transform: translateY(4px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* -------- Scrollbar polish (WebKit) -------- */
.cde-popover::-webkit-scrollbar,
.group-body::-webkit-scrollbar {
  width: 10px; height: 10px;
}
.cde-popover::-webkit-scrollbar-thumb,
.group-body::-webkit-scrollbar-thumb {
  background: #dfe3e8;
  border-radius: 10px;
  border: 2px solid #fff;
}
.cde-popover::-webkit-scrollbar-thumb:hover,
.group-body::-webkit-scrollbar-thumb:hover {
  background: #c9cfd6;
}

/* -------- Responsive tweaks -------- */
@media (max-width: 640px) {
  .cde-colors .input { min-width: 160px; }
  .colors-table .input-label { min-width: 200px; }
  .colors-table thead th:nth-child(3) { width: 160px; } /* HEX on small screens */

  .cde-popover {
    width: min(92vw, 360px);
    max-height: calc(100vh - 16px);
    padding: 10px;
  }
  .cde-popover .hex-field { flex-basis: 120px; }
  .cde-popover .rgb-field { flex-basis: 56px; }
  .cde-popover::after { left: 12px; }
}
