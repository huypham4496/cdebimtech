/* =========================================================
   Organization Manage – Modern UI (Poppins, Responsive)
   - Không đụng vào .sidebar để tránh xung đột
   - Canh lề theo --sidebar-width
   - Dùng màu chủ đạo từ --primary-color nếu có
========================================================= */

/* Font Poppins */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

:root {
  --primary: var(--primary-color, #fca415);
  --primary-600: #e38f12;
  --secondary: #6c757d;
  --bg: var(--bg-light, #f7f8fb);
  --card-bg: #ffffff;
  --text: #1f2937;
  --muted: #6b7280;
  --danger: #e11d48;
  --border: #e5e7eb;
  --ring: rgba(252, 164, 21, 0.35);
  --shadow: 0 6px 20px rgba(17, 24, 39, 0.08);
  --radius: 14px;
}

/* ---------------- Layout / Page Wrapper ---------------- */
.main-content {
  margin-left: var(--sidebar-width, 250px); /* tránh bị sidebar đè */
  padding: 22px;
  min-height: 100vh;
  background: var(--bg);
  position: relative;
  z-index: 1;
  font-family: 'Roboto', sans-serif;
  color: var(--text);
}

h1 {
  margin: 0 0 18px;
  font-size: clamp(1.5rem, 1.1rem + 1.2vw, 2rem);
  font-weight: 700;
  letter-spacing: .2px;
  display: flex; align-items: center; gap: .6rem;
}
h1 i { color: var(--primary); }

section.card > h2 {
  margin: 0 0 14px;
  font-size: clamp(1.05rem, .95rem + .3vw, 1.25rem);
  font-weight: 600;
  display: flex; align-items: center; gap: .5rem;
}
section.card > h2 i { color: var(--primary); }

/* ---------------- Cards ---------------- */
.card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px;
  box-shadow: var(--shadow);
  margin-bottom: 18px;
}

/* ---------------- Notices ---------------- */
.access-denied {
  background: #fff4f4;
  border: 1px solid #ffd1d1;
  color: #b91c1c;
  padding: 12px 14px;
  border-radius: var(--radius);
  font-weight: 600;
}

/* ---------------- Utilities ---------------- */
.text-muted { color: var(--muted); }
.visually-hidden {
  position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0;
  overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

/* ========================================================
   TABLE: Your Organizations
   - header sticky
   - responsive: cuộn ngang trong card (không cần đổi HTML)
======================================================== */
.card:has(.org-table) { overflow-x: auto; }

.org-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: #fff;
  min-width: 720px; /* giữ cột thoáng, có thể cuộn ngang */
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}
.org-table thead th {
  background: linear-gradient(0deg, #f4f7fb, #f9fbff);
  color: #0f172a;
  font-weight: 700;
  text-align: left;
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; z-index: 1;
  white-space: nowrap;
}
.org-table tbody td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
  color: #111827;
}
.org-table tbody tr:nth-child(2n) td { background: #fafbff; }
.org-table tbody tr:hover td { background: #fff7eb; }
.org-table td:last-child, .org-table th:last-child { white-space: nowrap; }

/* ========================================================
   BUTTONS
======================================================== */
.btn-action,
.btn-icon,
button.btn-action {
  display: inline-flex;
  align-items: center;
  gap: .45rem;
  padding: 9px 12px;
  border-radius: 10px;
  border: 1px solid transparent;
  background: #f3f4f6;
  color: #111827;
  cursor: pointer;
  transition: transform .04s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  line-height: 1;
  font-weight: 600;
  font-family: inherit;
}
.btn-action i { font-size: .95rem; }

.btn-action:hover { background: #e9eef7; }
.btn-action:active { transform: translateY(1px); }

.btn-primary {
  background: var(--primary);
  color: #fff; border-color: var(--primary);
}
.btn-primary:hover { background: var(--primary-600); border-color: var(--primary-600); }

.btn-secondary {
  background: #eef2f7; color: #0f172a; border-color: #e5e7eb;
}
.btn-secondary:hover { background: #e6ebf2; }

.btn-delete {
  background: #fff0f3; color: var(--danger); border-color: #ffd7e0;
}
.btn-delete:hover { background: #ffe7ec; }

.btn-edit {
  background: #eff6ff; color: #0b67c3; border-color: #dbeafe;
}
.btn-edit:hover { background: #e3f0ff; }

.btn-icon {
  padding: 8px;
  width: 36px; height: 36px;
  justify-content: center;
}
.btn-icon i { font-size: 1rem; }

button[disabled], .btn-action[disabled] {
  opacity: .55; cursor: not-allowed; filter: grayscale(10%);
}

/* ========================================================
   INLINE FORM (Invitation create) + SELECT ORG LÀM ĐẸP
======================================================== */
.inline-form {
  display: flex; flex-wrap: wrap; gap: .6rem;
  align-items: center; margin-bottom: 12px;
}

/* Base input/select */
.inline-form input[type="text"],
.inline-form select {
  appearance: none;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  font: inherit;
  color: #0f172a;
  background: #fff;
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
  margin-bottom: 25px;
}

/* Focus */
.inline-form input[type="text"]:focus,
.inline-form select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 5px var(--ring);
  background: #fff;
}

/* SELECT ORGANIZATION – style riêng (select[name="org_id"]) */
.inline-form select[name="org_id"] {
  min-width: 240px;
  padding-right: 42px;              /* chừa chỗ cho icon mũi tên */
  background-image:
    linear-gradient(180deg, #ffffff, #ffffff),                /* nền */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat, no-repeat;
  background-position: 0 0, right 12px center;
  background-size: auto, 18px 18px;
}
.inline-form select[name="org_id"]:hover {
  background-color: #f8fafc;
  border-color: #d8dee6;
}
.inline-form select[name="org_id"]:disabled {
  opacity: .6; cursor: not-allowed; filter: grayscale(12%);
}

/* ========================================================
   INVITATION LIST
======================================================== */
.list-invitations {
  list-style: none; margin: 0; padding: 0;
  display: grid; gap: 10px;
}
.list-invitations > li {
  display: flex; flex-wrap: wrap; gap: .6rem .75rem;
  align-items: center; justify-content: space-between;
  background: #fbfcff; border: 1px solid var(--border);
  border-radius: 12px; padding: 10px 12px;
}
.inv-org {
  display: inline-flex; align-items: center; gap: .5rem;
  font-weight: 700; color: #0f172a;
}
.inv-org i { color: var(--primary); }

.inv-link {
  display: inline-flex; align-items: center; gap: .4rem;
  flex: 1 1 320px; max-width: 720px;
}
.inv-link input[type="text"] {
  flex: 1;
  border: 1px dashed #cbd5e1;
  background: #fff; color: #0f172a;
  padding: 9px 12px;
  border-radius: 10px;
  transition: border-color .2s ease, box-shadow .2s ease;
}
.inv-link input[type="text"]:focus {
  outline: none; border-color: var(--primary);
  box-shadow: 0 0 0 4px var(--ring);
}

/* ========================================================
   MEMBERS & PROFILES – Thiết kế lại đẹp hơn
======================================================== */
.list-members {
  list-style: none; margin: 0; padding: 0;
  display: grid; gap: 14px;
}

.list-members > li {
  display: flex; align-items: center; gap: 16px;
  padding: 14px 16px; background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  transition: transform .1s ease, box-shadow .2s ease, border-color .2s ease;
}
.list-members > li:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
  border-color: #d9dee7;
}

/* Role select đẹp */
.role-select {
  flex: 0 0 160px;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  background: #f8fafc;
  font: inherit; font-weight: 600;
  transition: border-color .2s, box-shadow .2s, background .2s;
  appearance: none;
  background-image:
    linear-gradient(180deg, #f8fafc, #f8fafc),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat, no-repeat;
  background-position: 0 0, right 12px center;
  background-size: auto, 18px 18px;
}
.role-select:focus {
  outline: none; border-color: var(--primary);
  background: #fff;
  box-shadow: 0 0 0 5px var(--ring);
}

/* Info + actions */
.member-info { flex: 1; min-width: 220px; }
.member-name {
  margin: 0 0 4px; font-weight: 700; color: #0f172a;
  display: flex; align-items: center; gap: .5rem;
}
.member-name i { color: var(--primary); }

.member-actions { display: flex; gap: .45rem; }
.member-actions .btn-action, .member-actions .btn-icon {
  padding: 8px 12px; border-radius: 10px; font-size: .9rem;
}

/* Profile form đồng bộ */
#profileForm, form#profileForm {
  margin-top: 12px; border: 1px solid var(--border);
  border-radius: var(--radius); padding: 16px;
  background: #fafbff; box-shadow: var(--shadow);
}
.form-group {
  display: grid; gap: 6px; margin-bottom: 10px;
}
.form-group label {
  font-size: .92rem; color: #334155; font-weight: 600;
}
.form-group input[type="text"],
.form-group input[type="date"],
.form-group input[type="email"] {
  border: 1px solid var(--border);
  border-radius: 12px; padding: 10px 12px;
  background: #fff; font: inherit; color: #0f172a;
  transition: border-color .2s ease, box-shadow .2s ease;
}
.form-group input:focus {
  outline: none; border-color: var(--primary);
  box-shadow: 0 0 0 5px var(--ring);
}
.form-actions {
  display: flex; gap: .6rem; justify-content: flex-end; margin-top: 8px;
}

/* ========================================================
   Icons & Micro-interactions
======================================================== */
.fa-building, .fa-list, .fa-link, .fa-users-cog,
.fa-edit, .fa-trash, .fa-paper-plane, .fa-copy,
.fa-save, .fa-times, .fa-times-circle, .fa-user {
  opacity: .95;
}

button, .btn-action, .btn-icon, select, input {
  will-change: transform, background, border-color, box-shadow;
}

/* ========================================================
   RESPONSIVE
======================================================== */
@media (max-width: 1200px) {
  .main-content { padding: 18px; }
}

@media (max-width: 992px) {
  .list-members > li { gap: 12px; }
  .role-select { flex-basis: 150px; }
}

@media (max-width: 768px) {
  .main-content { padding: 16px; }
  .list-members > li { flex-direction: column; align-items: stretch; }
  .role-select { flex: unset; width: 100%; }
  .member-actions { justify-content: flex-end; margin-top: 8px; }
  /* Invitation rows stack */
  .list-invitations > li { align-items: stretch; }
  .inv-link { flex: 1 1 100%; }
}

@media (max-width: 600px) {
  h1 { font-size: 1.4rem; }
  section.card > h2 { font-size: 1.05rem; }
  .btn-action { padding: 8px 10px; font-size: .92rem; }
  .btn-icon { width: 34px; height: 34px; }
}

/* Touch-friendly hit areas */
@media (hover: none) {
  .btn-action, .btn-icon { padding: 12px 14px; }
}
